check_git_clean() {
    git diff --exit-code
    git diff --staged --exit-code
}

main() {
    check_git_clean
    pnpm run check
    pnpm run -r tsc
    pnpm run test 
    check_git_clean
}

main
