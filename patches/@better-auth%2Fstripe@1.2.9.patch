diff --git a/node_modules/@better-auth/stripe/.bun-tag-d4d082c3fefdd19b b/.bun-tag-d4d082c3fefdd19b
new file mode 100644
index 0000000000000000000000000000000000000000..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
diff --git a/dist/index.mjs b/dist/index.mjs
index 02e094e0acc61a3cb8bf090d285f9b7e78cb13fb..a4561454069c75a6f1ce7a09041ff73673f257ee 100644
--- a/dist/index.mjs
+++ b/dist/index.mjs
@@ -329,7 +329,7 @@ const stripe = (options) => {
         message: "Reference id is not allowed. Read server logs for more details."
       });
     }
-    const isAuthorized = ctx.body?.referenceId ? await options.subscription?.authorizeReference?.({
+    const isAuthorized = (ctx.body?.referenceId || ctx.query?.referenceId) ? await options.subscription?.authorizeReference?.({
       user: session.user,
       session: session.session,
       referenceId,
@@ -521,7 +521,10 @@ const stripe = (options) => {
                 items: [
                   {
                     id: activeSubscription.items.data[0]?.id,
-                    quantity: ctx.body.seats || 1,
+                    // Only include quantity for non-metered plans
+											...(plan.metered
+												? {}
+												: { quantity: ctx.body.seats || 1 }),
                     price: ctx.body.annual ? plan.annualDiscountPriceId : plan.priceId
                   }
                 ]
@@ -607,7 +610,8 @@ const stripe = (options) => {
             line_items: [
               {
                 price: priceIdToUse,
-                quantity: ctx.body.seats || 1
+                // Only include quantity for non-metered plans
+								...(plan.metered ? {} : { quantity: ctx.body.seats || 1 }),
               }
             ],
             subscription_data: {
